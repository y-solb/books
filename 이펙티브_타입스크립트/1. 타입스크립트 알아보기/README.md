# 1장. 타입스크립트 알아보기

## 1. 타입스크립트와 자바스크립트의 관계 이해하기

- 타입스크립트는 자바스크립트의 상위 집합이다.
- 모든 자바스크립트는 타입스크립트이지만, 모든 타입스크립트가 자바스크립트는 아니다.
- 타입 시스템의 목표 중 하나는 런타임에 오류를 발생시킬 코드를 미리 찾아 내는 것이다.('정적'타입 시스템)

- 타입스크립트 타입 체커는 추가적인 타입 구문 없이도 오류를 찾아낸다.

```js
const state = [
  {
    name: "짱구",
    capital: "서울",
  },
  {
    name: "철수",
    capital: "부산",
  },
  {
    name: "맹구",
    capital: "속초",
  },
];
for (const state of states) {
  console.log(state.capitol); // undefined (오류없이 출력)
}
```

```ts
for (const state of states) {
  console.log(state.capitol);
  // 'capitol'속성이 형식에 없습니다.
  // 'capital'을 사용하시겠습니까?
}
```

이런 경우 아래와 같이 타입구문을 추가해 정확한 문제점을 찾는게 좋다.

```ts
interface State {
  name: string;
  capital: string;
}
```

- 타입 시스템은 자바스크립트의 런타임 동작을 '모델링'한다. 하지만 자바스크립트에서는 허용되지만 타입스크립트에서 문제가 되는 경우가 있다.

## 2. 타입스크립트 설정 이해하기

`noImplicitAny`

변수들이 미리 정의된 타입을 가져야 하는지 여부를 제어한다.

`strictNullChecks`

null과 undefined가 모든 타입에서 허용되는지 확인하는 설정이다.

## 3. 코드 생성과 타입이 관계없음을 이해하기

타입스크립트 컴파일러 역할

- 최신 타입스크립트/자바스크립트를 브라우저에서 동작할 수 있도록 구버전의 자바스크립트로 트랜스파일한다.
- 코드의 타입 오류를 체크한다.

### 타입 오류가 있는 코드도 컴파일이 가능하다

컴파일은 타입 체크와 독립적으로 동작하기 때문에, 타입 오류가 있는 코드도 컴파일이 가능하다.
(만약 오류가 있을 때 컴파일하지 않으려면, tsconfig.json에 noEmitOnError를 설정하면 된다.)

### 런타임에는 타입체크가 불가능하다

자바스크립트로 컴파일 되는 과정에서 모든 인터페이스, 타입, 타입 구문은 제거된다.

### 타입연산은 런타임에 영향을 주지 않는다

```ts
function asNumber(val: number | string): number {
  return val as number;
}
```

```js
function asNumber(val) {
  return val;
}
```

값을 정제하기 위해서는 런타임의 타입을 체크하고 자바스크립트의 연산을 통해 변환해야 한다.

```ts
function asNumber(val: number | string): number {
  return typeof val === "string" ? Number(val) : val;
}
```

타입을 런타임에 사용하기 위해서는 태그된 유니온과 속성 체크 방법을 사용한다.

### 런타임 타입은 선언된 타입과 다를 수 있다

### 타입스크립트 타입으로는 함수를 오버로드할 수 없다

### 타입스크립트 타입은 런타임 성능에 영향을 주지 않는다

## 4. 구조적 타이밍에 익숙해지기

- 자바스크립트가 덕 타이핑 기반이고 타입스크립트가 이를 모델링하기 위해 구조적 타이밍을 사용한다.
- 클래스도 구조적 타이핑 규칙을 따른다.

## 5. any 타입 지양하기

### 타입 안정성이 없다

### 함수 시그니처를 무시한다

### 언어 서비스가 적용되지 않는다

자동완성 기능과 적절한 도움말이 제공되지 않는다.

### 코드 리팩토링 때 버그를 감춘다

타입 체커를 통과하지만 런타임에는 오류가 발생한다.

### 타입설계를 감춰버린다

### 타입시스템의 신뢰도를 떨어트린다
